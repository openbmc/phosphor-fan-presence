{
  "comments": [
    {
      "key": {
        "uuid": "7e408e4f_62210f6b",
        "filename": "monitor/tach_sensor.cpp",
        "patchSetId": 7
      },
      "lineNbr": 86,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2021-06-09T15:31:22Z",
      "side": 1,
      "message": "If the inventory service isn\u0027t running, the GetObject call will throw an exception:\n\nroot@p10bmc:~# busctl call xyz.openbmc_project.ObjectMapper /xyz/openbmc_project/object_mapper xyz.openbmc_project.ObjectMapper GetObject sas /xyz/openbmc_project/inventory/system/chassis/motherboard/fan0/fan0_0 0\n\na{sas} 1 \"xyz.openbmc_project.Inventory.Manager\" 4 \"org.freedesktop.DBus.Introspectable\" \"org.freedesktop.DBus.Peer\" \"org.freedesktop.DBus.Properties\" \"xyz.openbmc_project.State.Decorator.OperationalStatus\"\n\n\nroot@p10bmc:~# systemctl stop xyz.openbmc_project.Inventory.Manager\n\nroot@p10bmc:~# busctl call xyz.openbmc_project.ObjectMapper /xyz/openbmc_project/object_mapper xyz.openbmc_project.ObjectMapper GetObject sas /xyz/openbmc_project/inventory/system/chassis/motherboard/fan0/fan0_0 0\n\nCall failed: path or object not found",
      "revId": "f6196ff637d0df29bf2f1d66edefe2d86a4442e8",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b8632edb_5d103d3d",
        "filename": "monitor/tach_sensor.cpp",
        "patchSetId": 7
      },
      "lineNbr": 86,
      "author": {
        "id": 1001082
      },
      "writtenOn": "2021-06-09T15:42:04Z",
      "side": 1,
      "message": "See Matt B\u0027s comment from 8-Jun. He\u0027s saying inventory is a requirement for fan-monitor, so it may actually be desirable to bail with an unhandled exception.",
      "parentUuid": "7e408e4f_62210f6b",
      "revId": "f6196ff637d0df29bf2f1d66edefe2d86a4442e8",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1a95d212_205b5d3f",
        "filename": "monitor/tach_sensor.cpp",
        "patchSetId": 7
      },
      "lineNbr": 86,
      "author": {
        "id": 1000029
      },
      "writtenOn": "2021-06-09T16:02:27Z",
      "side": 1,
      "message": "The scope of this change will have a dependency on the inventory service running when fan monitor starts.\n\nIssue https://github.com/openbmc/phosphor-fan-presence/issues/25 has been created to handle the case here where the inventory service is not running yet and to retrieve the tach sensor and fan functional states once it becomes available.",
      "parentUuid": "b8632edb_5d103d3d",
      "revId": "f6196ff637d0df29bf2f1d66edefe2d86a4442e8",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eb58c904_9c1d9348",
        "filename": "monitor/tach_sensor.cpp",
        "patchSetId": 7
      },
      "lineNbr": 86,
      "author": {
        "id": 1000029
      },
      "writtenOn": "2021-06-09T16:04:32Z",
      "side": 1,
      "message": "Add a \"TODO - phosphor-fan-presence/issues/25\" for now here.",
      "parentUuid": "1a95d212_205b5d3f",
      "revId": "f6196ff637d0df29bf2f1d66edefe2d86a4442e8",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "46cde24d_70267f44",
        "filename": "monitor/tach_sensor.cpp",
        "patchSetId": 7
      },
      "lineNbr": 86,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2021-06-09T16:06:45Z",
      "side": 1,
      "message": "I think you guys were probably right in the first place.  I do see the inventory dependency in the service file.  I just wasn\u0027t paying close enough attention.",
      "parentUuid": "eb58c904_9c1d9348",
      "revId": "f6196ff637d0df29bf2f1d66edefe2d86a4442e8",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ab573d7c_8b04a302",
        "filename": "monitor/tach_sensor.cpp",
        "patchSetId": 7
      },
      "lineNbr": 86,
      "author": {
        "id": 1000029
      },
      "writtenOn": "2021-06-09T16:34:00Z",
      "side": 1,
      "message": "Yep, eventually though I\u0027d like to have any dependencies removed from the service files and handled in the code but we\u0027re good for now and can address that later in issue #25.",
      "parentUuid": "46cde24d_70267f44",
      "revId": "f6196ff637d0df29bf2f1d66edefe2d86a4442e8",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    }
  ]
}