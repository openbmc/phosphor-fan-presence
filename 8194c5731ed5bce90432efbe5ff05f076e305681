{
  "comments": [
    {
      "key": {
        "uuid": "129a2081_4940dfb4",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 1000029
      },
      "writtenOn": "2021-11-18T15:33:04Z",
      "side": 1,
      "message": "To match how signals are configured, might as well just make this be \"parameter\".",
      "range": {
        "startLine": 19,
        "startChar": 5,
        "endLine": 19,
        "endChar": 19
      },
      "revId": "8194c5731ed5bce90432efbe5ff05f076e305681",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "affb3db2_5a7b5327",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2021-11-29T16:28:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "129a2081_4940dfb4",
      "range": {
        "startLine": 19,
        "startChar": 5,
        "endLine": 19,
        "endChar": 19
      },
      "revId": "8194c5731ed5bce90432efbe5ff05f076e305681",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "10de556c_fca1251a",
        "filename": "control/json/manager.cpp",
        "patchSetId": 2
      },
      "lineNbr": 727,
      "author": {
        "id": 1000029
      },
      "writtenOn": "2021-11-30T20:55:50Z",
      "side": 1,
      "message": "With ParamTriggerData type the same as SignalActions, this could change to something like:\n\n```\n    auto it \u003d _parameterTriggers.find(name);\n    if (it !\u003d _parameterTriggers.end())\n    {\n        // Taken from signal.cpp::triggerSignal()\u0027s returned lambda\n        std::for_each(actions.begin(), actions.end(),\n                      [\u0026it-\u003esecond \u003d actions](auto\u0026 action) {\n                          actions.emplace_back(std::ref(action));\n                      });\n    }\n    else\n    {\n        ParamTriggerData triggerActions;\n        std::for_each(actions.begin(), actions.end(),\n                      [\u0026triggerActions](auto\u0026 action) {\n                          triggerActions.emplace_back(std::ref(action));\n                      });\n        _parameterTriggers[name] \u003d std::move(triggerActions);\n    }\n```",
      "range": {
        "startLine": 717,
        "startChar": 4,
        "endLine": 727,
        "endChar": 5
      },
      "revId": "8194c5731ed5bce90432efbe5ff05f076e305681",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bd3a080c_4d829fb4",
        "filename": "control/json/manager.cpp",
        "patchSetId": 2
      },
      "lineNbr": 727,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2021-11-30T23:25:37Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "10de556c_fca1251a",
      "range": {
        "startLine": 717,
        "startChar": 4,
        "endLine": 727,
        "endChar": 5
      },
      "revId": "8194c5731ed5bce90432efbe5ff05f076e305681",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "75e8811c_8fef3ab6",
        "filename": "control/json/manager.hpp",
        "patchSetId": 2
      },
      "lineNbr": 119,
      "author": {
        "id": 1000029
      },
      "writtenOn": "2021-11-18T15:33:04Z",
      "side": 1,
      "message": "May want to consider simplifying this similar to the change I did for signals -\u003e https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-fan-presence/+/48858\n\nstd::vector\u003cstd::reference_wrapper\u003cstd::unique_ptr\u003cActionBase\u003e\u003e\u003e;\n\nIn fact, may be able to reuse SignalActions from that change directly? maybe then we should have this \"parameter\" trigger be of `signal` class?",
      "range": {
        "startLine": 118,
        "startChar": 25,
        "endLine": 119,
        "endChar": 76
      },
      "revId": "8194c5731ed5bce90432efbe5ff05f076e305681",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "76b29729_4bcd015a",
        "filename": "control/json/manager.hpp",
        "patchSetId": 2
      },
      "lineNbr": 119,
      "author": {
        "id": 1000029
      },
      "writtenOn": "2021-11-19T14:32:44Z",
      "side": 1,
      "message": "Lets not have this be of `signal` class, but would be good to have this updated to use the updated SignalActions and maybe change that to be \"TriggerActions\" used by both signal and parameter triggers.",
      "parentUuid": "75e8811c_8fef3ab6",
      "range": {
        "startLine": 118,
        "startChar": 25,
        "endLine": 119,
        "endChar": 76
      },
      "revId": "8194c5731ed5bce90432efbe5ff05f076e305681",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "af39ccf4_edeeca85",
        "filename": "control/json/manager.hpp",
        "patchSetId": 2
      },
      "lineNbr": 119,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2021-11-29T16:28:15Z",
      "side": 1,
      "message": "If I were to do that, then I\u0027d have to write code in addParameterTrigger or in the calling lambda to convert the incoming vector of unique_ptrs into a vector of references. You\u0027d still like that to be done so it can use that type?",
      "parentUuid": "76b29729_4bcd015a",
      "range": {
        "startLine": 118,
        "startChar": 25,
        "endLine": 119,
        "endChar": 76
      },
      "revId": "8194c5731ed5bce90432efbe5ff05f076e305681",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6d74d42d_66db346d",
        "filename": "control/json/manager.hpp",
        "patchSetId": 2
      },
      "lineNbr": 119,
      "author": {
        "id": 1000029
      },
      "writtenOn": "2021-11-30T20:55:50Z",
      "side": 1,
      "message": "It seems it\u0027d be better to flatten to a single vector of the actions instead of a vector-of-vector and there shouldnt be much to adjust in addParameterTrigger to do this? I\u0027ve added a comment there on what can be done.\n\nEssentially the list of actions per trigger shouldnt be too long really, I\u0027m just looking for the best structure to keep the actions organized in if there were to be more than one event configured to run different actions when the same member signal, etc.. is used to trigger them.",
      "parentUuid": "af39ccf4_edeeca85",
      "range": {
        "startLine": 118,
        "startChar": 25,
        "endLine": 119,
        "endChar": 76
      },
      "revId": "8194c5731ed5bce90432efbe5ff05f076e305681",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    }
  ]
}