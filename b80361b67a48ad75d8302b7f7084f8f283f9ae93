{
  "comments": [
    {
      "key": {
        "uuid": "d780faf0_497c7fb5",
        "filename": "sensor-monitor/threshold_alarm_logger.cpp",
        "patchSetId": 3
      },
      "lineNbr": 142,
      "author": {
        "id": 1000029
      },
      "writtenOn": "2021-02-10T22:45:32Z",
      "side": 1,
      "message": "Do we need to be subscribing to interfacesRemoved signals to remove (or set back to false) any of these alarms when the service that provides them goes away?",
      "range": {
        "startLine": 142,
        "startChar": 16,
        "endLine": 142,
        "endChar": 50
      },
      "revId": "b80361b67a48ad75d8302b7f7084f8f283f9ae93",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ed3011f3_7b424eb9",
        "filename": "sensor-monitor/threshold_alarm_logger.cpp",
        "patchSetId": 3
      },
      "lineNbr": 142,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2021-02-11T21:25:22Z",
      "side": 1,
      "message": "trying to decide...\n\nas it is now:\n* if alarm is high and sensor is removed and readded:\n    * when sensor show up again, alarm would (most likely) be off, code will create the info event log saying temp is now under limit\n\nwith interfaces removed:\n* if alarm is high and sensor is removed and readded:\n    * when sensor shows up again, no info event log\n\nmaybe the latter is slightly better.  I\u0027m not really sure how to test this though, as killing an app doesn\u0027t send interfacesRemoved, unless it does so when it\u0027s restarted.",
      "parentUuid": "d780faf0_497c7fb5",
      "range": {
        "startLine": 142,
        "startChar": 16,
        "endLine": 142,
        "endChar": 50
      },
      "revId": "b80361b67a48ad75d8302b7f7084f8f283f9ae93",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b420f12d_a9b439b8",
        "filename": "sensor-monitor/threshold_alarm_logger.cpp",
        "patchSetId": 3
      },
      "lineNbr": 142,
      "author": {
        "id": 1000029
      },
      "writtenOn": "2021-02-12T17:17:19Z",
      "side": 1,
      "message": "I recall terminating an application did cause the interfacesRemoved signals to be sent on dbus. This is how I tested handling those signals in the fan control application.\n\nWhat will happen if an alarm is high and the sensor is removed and doesnt come back though? Would we want to handle the alarm as if its critical since the sensor is now in an unknown state? or do we want to just log that the sensor disappeared nullifying the alarm?",
      "parentUuid": "ed3011f3_7b424eb9",
      "range": {
        "startLine": 142,
        "startChar": 16,
        "endLine": 142,
        "endChar": 50
      },
      "revId": "b80361b67a48ad75d8302b7f7084f8f283f9ae93",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "924f4735_d177fb00",
        "filename": "sensor-monitor/threshold_alarm_logger.cpp",
        "patchSetId": 3
      },
      "lineNbr": 142,
      "author": {
        "id": 1000008
      },
      "writtenOn": "2021-02-15T19:39:38Z",
      "side": 1,
      "message": "I still haven\u0027t been able to generate an interfacesRemoved by stopping either hwmontempsensor or phosphor-hwmon-readd, so at the moment I don\u0027t plan on putting in handling for interfacesRemoved.\n\nI was looking at the dbus-sensors/hwmontempsensor code, and I don\u0027t see code in there to remove a sensor from D-Bus when the underlying entity-manager config interface goes away.  That means in the case of a removable card being unplugged, the sensor wouldn\u0027t go away anyway.",
      "parentUuid": "b420f12d_a9b439b8",
      "range": {
        "startLine": 142,
        "startChar": 16,
        "endLine": 142,
        "endChar": 50
      },
      "revId": "b80361b67a48ad75d8302b7f7084f8f283f9ae93",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    }
  ]
}